<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="bootstrap/dist/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script type="text/javascript" src='js/jquery.js'></script>
    <!-- Latest compiled JavaScript -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript">
    $(document).ready(function($) {
        var myOptions = {
            zoom: 13,
            center: new google.maps.LatLng(24.4281988, 54.6231222),
            streetViewControl: false,
            scaleControl: true,
            zoomControl: true,
            zoomControlOptions: {
                position: google.maps.ControlPosition.TOP_LEFT,
                style: google.maps.ZoomControlStyle.LARGE
            },
            draggableCursor: 'crosshair'
        };
        var map = new google.maps.Map(document.getElementById('map-canvas'), myOptions);
        stylesArray = [{
            "elementType": "labels.text",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "landscape.natural",
            "elementType": "geometry.fill",
            "stylers": [{
                "color": "#f5f5f2"
            }, {
                "visibility": "on"
            }]
        }, {
            "featureType": "administrative",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "transit",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "poi.attraction",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "landscape.man_made",
            "elementType": "geometry.fill",
            "stylers": [{
                "color": "#ffffff"
            }, {
                "visibility": "on"
            }]
        }, {
            "featureType": "poi.business",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "poi.medical",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "poi.place_of_worship",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "poi.school",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "poi.sports_complex",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "road.highway",
            "elementType": "geometry",
            "stylers": [{
                "color": "#ffffff"
            }, {
                "visibility": "simplified"
            }]
        }, {
            "featureType": "road.arterial",
            "stylers": [{
                "visibility": "simplified"
            }, {
                "color": "#ffffff"
            }]
        }, {
            "featureType": "road.highway",
            "elementType": "labels.icon",
            "stylers": [{
                "color": "#ffffff"
            }, {
                "visibility": "off"
            }]
        }, {
            "featureType": "road.highway",
            "elementType": "labels.icon",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "road.arterial",
            "stylers": [{
                "color": "#ffffff"
            }]
        }, {
            "featureType": "road.local",
            "stylers": [{
                "color": "#ffffff"
            }]
        }, {
            "featureType": "poi.park",
            "elementType": "labels.icon",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "poi",
            "elementType": "labels.icon",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "water",
            "stylers": [{
                "color": "#71c8d4"
            }]
        }, {
            "featureType": "landscape",
            "stylers": [{
                "color": "#e5e8e7"
            }]
        }, {
            "featureType": "poi.park",
            "stylers": [{
                "color": "#8ba129"
            }]
        }, {
            "featureType": "road",
            "stylers": [{
                "color": "#ffffff"
            }]
        }, {
            "featureType": "poi.sports_complex",
            "elementType": "geometry",
            "stylers": [{
                "color": "#c7c7c7"
            }, {
                "visibility": "off"
            }]
        }, {
            "featureType": "water",
            "stylers": [{
                "color": "#a0d3d3"
            }]
        }, {
            "featureType": "poi.park",
            "stylers": [{
                "color": "#91b65d"
            }]
        }, {
            "featureType": "poi.park",
            "stylers": [{
                "gamma": 1.51
            }]
        }, {
            "featureType": "road.local",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "road.local",
            "elementType": "geometry",
            "stylers": [{
                "visibility": "on"
            }]
        }, {
            "featureType": "poi.government",
            "elementType": "geometry",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "landscape",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "road",
            "elementType": "labels",
            "stylers": [{
                "visibility": "off"
            }]
        }, {
            "featureType": "road.arterial",
            "elementType": "geometry",
            "stylers": [{
                "visibility": "simplified"
            }]
        }, {
            "featureType": "road.local",
            "stylers": [{
                "visibility": "simplified"
            }]
        }, {
            "featureType": "road"
        }, {
            "featureType": "road"
        }, {}, {
            "featureType": "road.highway"
        }]

        map.setOptions({
            styles: stylesArray
        });

        var image = {
            url: 'http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=25|FF0000|000000',
            // This marker is 20 pixels wide by 32 pixels tall.
            size: new google.maps.Size(20, 32),
        };
        $.ajax({
                // url: 'http://ec2-54-148-238-83.us-west-2.compute.amazonaws.com/api/getJsonTest',
                url: 'http://127.0.0.1:8000/getJsonTest',
                type: 'Get',
                dataType: 'json',
                // data: {param1: 'value1'},
            })
            .done(function(data) {
                console.log(data);
                $.each(data['list'], function(index, val) {
                    console.log(val)
                    var marker = new google.maps.Marker({
                        position: new google.maps.LatLng(val['lat'], val['lng']),
                        map: map,
                        icon: 'http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld='+val['t1']+'|FF0000|000000'
                    });
                    google.maps.event.addListener(marker, 'click', function() {
                        map.setCenter(marker.getPosition());
                        window.open('node_detail.html', 'detail')
                    });
                });
            })
            .fail(function() {
                console.log("error");
            })
            .always(function() {
                console.log("complete");
            });





    });
    </script>
    <style type="text/css" media="screen">
    /*
A custom Bootstrap 3.1 theme from http://bootply.com\

This CSS code should follow the 'bootstrap.css'
in your HTML file.

license: MIT
author: bootply.com
*/

    html,
    body {
        height: 100%;
    }

    body {
        padding-top: 50px;
        /*padding for navbar*/
    }

    .navbar-custom .icon-bar {
        background-color: #fff;
    }

    .navbar-custom {
        background-color: #168ccc;
        color: #fff;
    }

    .navbar-custom li>a:hover,
    .navbar-custom li>a:focus {
        background-color: #49bfff;
    }

    .navbar-custom a {
        color: #fefefe;
    }

    .navbar-custom .form-control:focus {
        border-color: #49bfff;
        outline: 0;
        -webkit-box-shadow: inset 0 0 0;
        box-shadow: inset 0 0 0;
    }

    #main,
    #main>.row {
        height: 100%;
    }

    #main>.row {
        overflow-y: scroll;
    }

    #left {
        height: 100%;
    }

    #map-canvas {
        width: 50%;
        height: calc(100% - 0);
        position: absolute;
        right: 0px;
        top: 50px;
        bottom: 0;
        overflow: hidden;
    }
    </style>
</head>

<body>
    <!-- begin template -->
    <div class="navbar navbar-custom navbar-fixed-top">
        <div class="navbar-header"><a class="navbar-brand" href="#">Brand</a>
            <a class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <li><a href="#">Link</a></li>
                <li><a href="#">Link</a></li>
                <li>&nbsp;</li>
            </ul>
            <form class="navbar-form">
                <div class="form-group" style="display:inline;">
                    <div class="input-group">
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-chevron-down"></span></button>
                            <ul class="dropdown-menu">
                                <li><a href="#">Category 1</a></li>
                                <li><a href="#">Category 2</a></li>
                                <li><a href="#">Category 3</a></li>
                                <li><a href="#">Category 4</a></li>
                                <li><a href="#">Category 5</a></li>
                            </ul>
                        </div>
                        <input type="text" class="form-control" placeholder="What are searching for?">
                        <span class="input-group-addon"><span class="glyphicon glyphicon-search"></span> </span>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div id="map-canvas"></div>
    <div class="container-fluid" id="main">
        <div class="row">
            <div class="col-xs-6" id="left">
                <h2>Bootstrap Google Maps Demo</h2>
                <!-- item list -->
                <div class="panel panel-default">
                    <div class="panel-heading"><a href="">Item heading</a></div>
                </div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis pharetra varius quam sit amet vulputate. Quisque mauris augue, molestie tincidunt condimentum vitae, gravida a libero. Aenean sit amet felis dolor, in sagittis nisi. Sed ac orci quis tortor imperdiet venenatis. Duis elementum auctor accumsan. Aliquam in felis sit amet augue.</p>
                <hr>
                <div class="panel panel-default">
                    <div class="panel-heading"><a href="">Item heading</a></div>
                </div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis pharetra varius quam sit amet vulputate. Quisque mauris augue, molestie tincidunt condimentum vitae, gravida a libero. Aenean sit amet felis dolor, in sagittis nisi. Sed ac orci quis tortor imperdiet venenatis. Duis elementum auctor accumsan. Aliquam in felis sit amet augue.</p>
                <hr>
                <div class="panel panel-default">
                    <div class="panel-heading"><a href="">Item heading</a></div>
                </div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis pharetra varius quam sit amet vulputate. Quisque mauris augue, molestie tincidunt condimentum vitae, gravida a libero. Aenean sit amet felis dolor, in sagittis nisi. Sed ac orci quis tortor imperdiet venenatis. Duis elementum auctor accumsan. Aliquam in felis sit amet augue.</p>
                <hr>
                <div class="panel panel-default">
                    <div class="panel-heading"><a href="">Item heading</a></div>
                </div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis pharetra varius quam sit amet vulputate. Quisque mauris augue, molestie tincidunt condimentum vitae, gravida a libero. Aenean sit amet felis dolor, in sagittis nisi. Sed ac orci quis tortor imperdiet venenatis. Duis elementum auctor accumsan. Aliquam in felis sit amet augue.</p>
                <hr>
                <!-- /item list -->
                <p>
                    <a href="http://www.bootply.com/render/129229">Demo</a> | <a href="http://bootply.com/129229">Source Code</a>
                </p>
                <hr>
                <p>
                    <a href="http://bootply.com" target="_ext" class="center-block btn btn-primary">More Bootstrap Snippets on Bootply</a>
                </p>
                <hr>
            </div>
        </div>
        <div class="col-xs-6">
            <!--map-canvas will be postioned here-->
        </div>
    </div>
    <!-- end template -->
</body>

</html>
